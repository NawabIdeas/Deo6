<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Panel</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="user-app.js" defer></script>
</head>
<body>
    <!-- Authentication Screens -->
    <div id="auth-screen" class="screen active">
        <div class="auth-container">
            <h1 class="app-title">Earn App</h1>
            
            <div id="login-form" class="auth-form active">
                <h2>Login</h2>
                <input type="email" id="login-email" placeholder="Email" required>
                <input type="password" id="login-password" placeholder="Password" required>
                <button id="login-btn" class="btn-primary">Login</button>
                <p>Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
            </div>
            
            <div id="signup-form" class="auth-form">
                <h2>Sign Up</h2>
                <input type="text" id="signup-name" placeholder="Full Name" required>
                <input type="email" id="signup-email" placeholder="Email" required>
                <input type="password" id="signup-password" placeholder="Password" required>
                <input type="password" id="signup-confirm" placeholder="Confirm Password" required>
                <input type="text" id="signup-referral" placeholder="Referral Code (optional)">
                <button id="signup-btn" class="btn-primary">Sign Up</button>
                <p>Already have an account? <a href="#" id="show-login">Login</a></p>
            </div>
        </div>
    </div>

    <!-- Main App Screens -->
    <div id="app-screen" class="screen">
        <!-- Header -->
        <header class="app-header">
            <h1 class="app-name">Earn App</h1>
            <div class="profile-icon" id="profile-btn">ðŸ‘¤</div>
        </header>

        <!-- Dashboard -->
        <div id="dashboard" class="screen-content active">
            <div class="balance-card">
                <h3>Your Balance</h3>
                <p class="balance-amount" id="user-balance">$0.000</p>
            </div>
            
            <div class="action-card" id="daily-checkin">
                <h3>Daily Check-in</h3>
                <p>Claim your daily reward</p>
                <button id="claim-daily" class="btn-primary" disabled>Claim $0.00</button>
                <p id="checkin-timer"></p>
            </div>
            
            <div class="action-card">
                <h3>Affiliate Program</h3>
                <p>Invite friends and earn</p>
                <div class="referral-container">
                    <input type="text" id="referral-link" readonly>
                    <button id="copy-referral" class="btn-secondary">Copy</button>
                </div>
                <p>Your referral code: <span id="user-referral-code"></span></p>
            </div>
        </div>

        <!-- Profile -->
        <div id="profile" class="screen-content">
            <h2>Your Profile</h2>
            <div class="form-group">
                <label for="profile-name">Name</label>
                <input type="text" id="profile-name">
            </div>
            <div class="form-group">
                <label for="profile-email">Email</label>
                <input type="email" id="profile-email">
            </div>
            <button id="update-profile" class="btn-primary">Update Profile</button>
            <button id="logout-btn" class="btn-secondary">Logout</button>
        </div>

        <!-- Withdraw -->
        <div id="withdraw" class="screen-content">
            <h2>Withdraw Funds</h2>
            <div class="balance-info">
                <p>Available: <span id="withdraw-balance">$0.000</span></p>
                <p>Minimum: $10.00</p>
            </div>
            
            <div class="form-group">
                <label for="withdraw-method">Payment Method</label>
                <select id="withdraw-method">
                    <option value="jazzcash">JazzCash</option>
                    <option value="easypaisa">EasyPaisa</option>
                    <option value="usdt">USDT TRC20</option>
                </select>
            </div>
            
            <div id="jazzcash-fields" class="method-fields">
                <div class="form-group">
                    <label for="jazzcash-name">Account Name</label>
                    <input type="text" id="jazzcash-name">
                </div>
                <div class="form-group">
                    <label for="jazzcash-number">Account Number</label>
                    <input type="text" id="jazzcash-number">
                </div>
            </div>
            
            <div id="easypaisa-fields" class="method-fields hidden">
                <div class="form-group">
                    <label for="easypaisa-name">Account Name</label>
                    <input type="text" id="easypaisa-name">
                </div>
                <div class="form-group">
                    <label for="easypaisa-number">Account Number</label>
                    <input type="text" id="easypaisa-number">
                </div>
            </div>
            
            <div id="usdt-fields" class="method-fields hidden">
                <div class="form-group">
                    <label for="usdt-wallet-name">Wallet Name</label>
                    <input type="text" id="usdt-wallet-name">
                </div>
                <div class="form-group">
                    <label for="usdt-address">Wallet Address</label>
                    <input type="text" id="usdt-address">
                </div>
            </div>
            
            <div class="form-group">
                <label for="withdraw-amount">Amount ($)</label>
                <input type="number" id="withdraw-amount" min="10" step="0.001">
            </div>
            
            <button id="submit-withdraw" class="btn-primary">Submit Request</button>
        </div>

        <!-- Status -->
        <div id="status" class="screen-content">
            <h2>Withdrawal Status</h2>
            <div id="withdrawal-history">
                <!-- Will be populated dynamically -->
                <p class="no-data">No withdrawal requests yet</p>
            </div>
        </div>

        <!-- Earn -->
        <div id="earn" class="screen-content">
            <h2>Earn Points</h2>
            <div id="tasks-container">
                <!-- Will be populated dynamically -->
                <p class="no-data">No tasks available at the moment</p>
            </div>
        </div>

        <!-- Task View -->
        <div id="task-view" class="screen-content fullscreen-task hidden">
            <div class="task-header">
                <h2 id="task-title">Task Title</h2>
                <div id="task-timer">00:00</div>
            </div>
            <iframe id="task-iframe" src="about:blank"></iframe>
            <button id="claim-task" class="btn-primary hidden">Claim Reward</button>
        </div>

        <!-- Contact -->
        <div id="contact" class="screen-content">
            <h2>Contact Support</h2>
            <p>If you have any questions or issues, please contact our support team.</p>
            <button id="contact-support" class="btn-primary">Contact Support</button>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-target="dashboard">Home</button>
            <button class="nav-btn" data-target="withdraw">Withdraw</button>
            <button class="nav-btn" data-target="status">Status</button>
            <button class="nav-btn" data-target="earn">Earn</button>
            <button class="nav-btn" data-target="contact">Contact</button>
        </nav>
    </div>

    <!-- Modals and Overlays -->
    <div id="modal-overlay" class="modal-overlay hidden">
        <div class="modal">
            <h3 id="modal-title"></h3>
            <p id="modal-message"></p>
            <button id="modal-close" class="btn-primary">OK</button>
        </div>
    </div>
</body>
</html>